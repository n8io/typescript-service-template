---
description: 
globs: 
alwaysApply: true
---
General Rules

1. When we want to run any `npm` commands, we must first run the following: `nvm install`
2. When we want to run tests, we must run the following: `nvm install && export CI=true`
3. Anytime we create or modify a `.ts` file, we must adhere to the guidelines set forth in [clean-code.mdc](mdc:.cursor/rules/clean-code.mdc), [code-quality.mdc](mdc:.cursor/rules/code-quality.mdc), and [typescript.mdc](mdc:.cursor/rules/typescript.mdc) 
4. Always check the [package.json](mdc:package.json) for a script that might accomplish the goal first, if one exists ask if I want to run it instead of generating your own command.
5. Whenever `test(s)` or `testing` is mentioned, please include the [testing.mdc](mdc:.cursor/rules/testing.mdc) rules in your prompt
6. When changing Node.js versions, we must follow this sequence:
   a. Update the version in `.nvmrc`
   b. Run `nvm install`
   c. Run `node ./.extras/preinstall.mjs`
   d. Run `npm install`
7. Whenever we update any of the dependencies found in [schema.ts](mdc:src/spi/repositories/database/schema.ts), we should regenerate migrations via the [database.mdc](mdc:.cursor/rules/database.mdc) rules
