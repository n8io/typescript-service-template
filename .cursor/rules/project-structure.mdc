---
description: Use these rules when determining where to make changes, implement features, modify api endpoints, create or modify utilities, or add a new external service
globs: 
alwaysApply: false
---
# Project Structure Guide

This is a TypeScript service template that follows a clean architecture pattern. The main components are:

- [src/index.ts](mdc:src/index.ts) - The main entry point that initializes the application
- [src/api/](mdc:src/api) - Contains API routes and controllers using Hono
- [src/domain/](mdc:src/domain) - Contains business logic and domain models
- [src/spi/](mdc:src/spi) - Service Provider Interface layer for external services
  - [src/spi/repositories/database/schema.ts](mdc:src/spi/repositories/database/schema.ts) - Database models and schema definitions
- [src/utils/](mdc:src/utils) - Utility functions and helpers

## File Naming Conventions

All files in the project must follow these naming conventions:

1. Use kebab-case for all filenames
   - âœ… `user-service.ts`
   - âœ… `database-connection.ts`
   - âŒ `userService.ts`
   - âŒ `database_connection.ts`

2. Use ASCII characters only (no special characters or Unicode)
   - âœ… `user-profile.ts`
   - âŒ `user-profile-ğŸ“.ts`
   - âŒ `user-profile-Ã©.ts`

3. File extensions:
   - `.ts` for TypeScript source files
   - `.test.ts` for test files
   - `.d.ts` for type declaration files
   - `.mjs` for ES modules
   - `.json` for JSON files
   - `.jsonc` for JSON with comments

4. No barrel files (index.ts)
   - âŒ `src/api/index.ts`
   - âŒ `src/domain/index.ts`
   - âœ… Import directly from the specific file:
     ```typescript
     // âŒ Don't do this
     import { UserService } from './api';
     
     // âœ… Do this instead
     import { UserService } from './api/user-service';
     ```

Examples of valid filenames:
```
src/
â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ user-controller.ts
â”‚   â””â”€â”€ auth-middleware.ts
â”œâ”€â”€ domain/
â”‚   â”œâ”€â”€ user-service.ts
â”‚   â””â”€â”€ validation-utils.ts
â”œâ”€â”€ spi/
â”‚   â””â”€â”€ repositories/
â”‚       â””â”€â”€ database/
â”‚           â””â”€â”€ schema.ts
â””â”€â”€ utils/
    â”œâ”€â”€ config-validator.ts
    â””â”€â”€ error-handler.ts
```

The application follows a layered architecture:
1. API Layer (How clients access the domain)
2. Domain Layer (Business logic)
3. SPI Layer (External services)

Each layer is initialized in sequence in the main entry point, with dependencies flowing from top to bottom.
